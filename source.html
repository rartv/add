<!DOCTYPE html>
<html lang="en" style="height: 100%;">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, shrink-to-fit=no, viewport-fit=cover">
  <link href="https://fonts.googleapis.com/css?family=Ubuntu" rel="stylesheet">
  <title>添加 APT 源</title>
  <style>
    body {
      height: 100%;
      font-family: 'Ubuntu', sans-serif;
    }

    #main {
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    #repo-title {
      font-size: 2.2rem;
    }

    #repo-url {
      color: #a3a3a3;
    }

    #main > a {
      display: flex;
      align-items: center;
      color:black;
      font-size:1.3rem;
    }
  </style>
</head>

<body>
  <div id="main">
    <p id="repo-title"></p>
    <p id="repo-url"></p><br/>
    <a id="cydia" href="">🟫 添加源到 Cydia</a><br/>
    <a id="sileo" href="">🟩 添加源到 Slieo</a><br/>
    <a id="zebra" href="">⬛️ 添加源到 Zebra</a><br/>
    <a id="installer" href="">🟦 添加源到 Installer</a>
  </div>
</body>

<script>
  cydiaSuffix = "cydia://url/https://cydia.saurik.com/api/share#?source=";
  sileoSuffix = "sileo://source/";
  zebraSuffix = "zbra://sources/add/";
  installerSuffix = "installer://add/repo=";
  hash = window.location.hash.substr(1);
  if (hash) {
    document.getElementById("repo-title").innerHTML = "源地址";
    document.getElementById("repo-url").innerHTML = hash;
    document.getElementById("cydia").href = cydiaSuffix + hash;
    document.getElementById("sileo").href = sileoSuffix + hash;
    document.getElementById("zebra").href = zebraSuffix + hash;
    document.getElementById("installer").href = installerSuffix + hash;
  } else {
    document.getElementById("repo-title").innerHTML = "错误:"
    document.getElementById("repo-url").innerHTML = "源地址不能为空";
  }
</script>

</html>
